-- 游戏常量定义
local M = {}

-- 游戏网格配置
M.GRID_COLS = 10
M.GRID_ROWS = 20
M.CELL_SIZE = 28

-- 游戏形状定义
M.SHAPES = {
    I = {
        {{0,1,0,0},{0,1,0,0},{0,1,0,0},{0,1,0,0}},
        {{0,0,0,0},{1,1,1,1},{0,0,0,0},{0,0,0,0}},
    },
    O = {
        {{0,0,0,0},{0,1,1,0},{0,1,1,0},{0,0,0,0}},
    },
    T = {
        {{0,0,0,0},{1,1,1,0},{0,1,0,0},{0,0,0,0}},
        {{0,1,0,0},{1,1,0,0},{0,1,0,0},{0,0,0,0}},
        {{0,1,0,0},{1,1,1,0},{0,0,0,0},{0,0,0,0}},
        {{0,1,0,0},{0,1,1,0},{0,1,0,0},{0,0,0,0}},
    },
    S = {
        {{0,0,0,0},{0,1,1,0},{1,1,0,0},{0,0,0,0}},
        {{1,0,0,0},{1,1,0,0},{0,1,0,0},{0,0,0,0}},
    },
    Z = {
        {{0,0,0,0},{1,1,0,0},{0,1,1,0},{0,0,0,0}},
        {{0,1,0,0},{1,1,0,0},{1,0,0,0},{0,0,0,0}},
    },
    J = {
        {{0,0,0,0},{1,1,1,0},{0,0,1,0},{0,0,0,0}},
        {{0,1,0,0},{0,1,0,0},{1,1,0,0},{0,0,0,0}},
        {{1,0,0,0},{1,1,1,0},{0,0,0,0},{0,0,0,0}},
        {{0,1,1,0},{0,1,0,0},{0,1,0,0},{0,0,0,0}},
    },
    L = {
        {{0,0,0,0},{1,1,1,0},{1,0,0,0},{0,0,0,0}},
        {{1,1,0,0},{0,1,0,0},{0,1,0,0},{0,0,0,0}},
        {{0,0,1,0},{1,1,1,0},{0,0,0,0},{0,0,0,0}},
        {{0,1,0,0},{0,1,0,0},{0,1,1,0},{0,0,0,0}},
    },
}

-- 颜色定义 - 已移动到 src/core/colors.lua
local colors = require "src.core.colors"
M.COLORS = {
    I = colors.PIECE_I,    -- 青色
    O = colors.PIECE_O,    -- 黄色
    T = colors.PIECE_T,    -- 紫色
    S = colors.PIECE_S,    -- 青绿色
    Z = colors.PIECE_Z,    -- 红色
    J = colors.PIECE_J,    -- 蓝色
    L = colors.PIECE_L,    -- 橙色
    G = colors.PIECE_GRID, -- 灰色（网格）
}

-- 输入键位定义（使用sokol键码）
M.KEYS = {
    MOVE_LEFT = {65, 74},  -- A, J键
    MOVE_RIGHT = {68, 76}, -- D, L键
    SOFT_DROP = {83, 75},  -- S, K键
    ROTATE = {87, 73},     -- W, I键
    HARD_DROP = 32,        -- 空格键
}

-- 双人模式键位定义（使用sokol键码）
M.DUAL_KEYS = {
    PLAYER1 = {
        MOVE_LEFT = 65,   -- A键
        MOVE_RIGHT = 68,  -- D键
        SOFT_DROP = 83,   -- S键
        ROTATE = 87,      -- W键
        HARD_DROP = 32,   -- 空格键
    },
    PLAYER2 = {
        MOVE_LEFT = 263,   -- 左）
        MOVE_RIGHT = 262,  -- 右）
        SOFT_DROP = 264,   -- （下）
        ROTATE = 265,      -- 上）
        HARD_DROP = 335,  -- Enter键 数字键盘（硬降）
    },
}

-- 游戏状态常量
M.GAME_STATES = {
    START_SCREEN = "start_screen",
    PLAYING = "playing",
    PAUSED = "paused",
    GAME_OVER = "game_over",
}

-- 游戏模式常量
M.GAME_MODES = {
    SINGLE = "single",
    DUAL = "dual",
    AUTO = "auto",
}

return M
